<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #box{
            position: fixed;
            bottom:20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border: 1px solid black;
        }
        #countBox{
            position: absolute;
            left:10px;
            top:-20px;
            width:20px;
            height: 20px;
        }
        #goods{
            position: absolute;
            width:30px;
            height: 30px;
            left:0px;
            top:0px;
            display: none;
        }
    </style>
</head>
<body style="height: 1000px">
        <br/>
        <br/>
        <br/>
    <input id="btnGo" type="button" value=" 加入购物车 "  />
    
    <div id="box">
        <div id="countBox">0</div>
    </div>
    <img id="goods" src="img/gotoLearning.jpg" alt="">
</body>
<script src="js/PaoWu.js"></script>
<script>

let goodscount=0;//商品数量

window.onload = function(){

    $("#btnGo").onclick = function(event){
        let evt = event || window.event;
        let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        let scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;
       
        new PaoWu(document.body,{
            startP:{
                    left:evt.pageX,
                    top:evt.pageY
                 },
            endP:{
                    left:$("#box").offsetLeft+scrollLeft,
                    top:$("#box").offsetTop+scrollTop
                },
            func:function(){
                goodscount++;
                $("#countBox").innerHTML = goodscount;
            }
        });
    }
}


//封装一个函数，来获取元素
function $(str){
    if(str[0]=="#"){
        return document.getElementById(str.substring(1));
    }else if(str[0]=="."){
        return document.getElementsByClassName(str.substring(1));
    }else{
        return document.getElementsByTagName(str);
    }
}

</script>